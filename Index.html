<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Detect Your Day</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#05080f;--bg2:#0b1120;--bg3:#0f1a2e;
  --blue:#388bfd;--cyan:#00cfff;--purple:#9b72f8;
  --green:#23e5a0;--red:#ff4d6d;--yellow:#ffd166;--orange:#ff8c42;
  --text:#dde8ff;--muted:#6880a8;
  --border:rgba(56,139,253,0.18);--soft:rgba(255,255,255,0.06);
  --glow:rgba(56,139,253,0.3);
  --r:14px;--rl:22px;--tr:0.3s ease;
}
html{scroll-behavior:smooth}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;
  background:radial-gradient(ellipse at 15% 25%,rgba(56,139,253,.08) 0%,transparent 55%),
             radial-gradient(ellipse at 85% 75%,rgba(155,114,248,.08) 0%,transparent 55%)}

/* PAGES */
.page{display:none;position:relative;z-index:1}
.page.active{display:block}

/* NAV */
nav{position:fixed;top:0;left:0;width:100%;z-index:900;height:62px;
    display:flex;align-items:center;justify-content:space-between;padding:0 5%;
    background:rgba(5,8,15,.92);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.logo{font-family:'Syne',sans-serif;font-weight:800;font-size:1.2rem;cursor:pointer;
      background:linear-gradient(90deg,var(--blue),var(--cyan));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.nav-links{display:flex;gap:1.8rem;list-style:none}
.nav-links a{color:var(--muted);font-size:.9rem;font-weight:500;cursor:pointer;
             text-decoration:none;transition:color var(--tr)}
.nav-links a:hover{color:var(--text)}
.burger{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:4px}
.burger span{display:block;width:23px;height:2px;background:var(--muted);border-radius:2px;transition:all var(--tr)}
.burger.open span:nth-child(1){transform:translateY(7px) rotate(45deg)}
.burger.open span:nth-child(2){opacity:0}
.burger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg)}
.mob{display:none;position:fixed;top:62px;left:0;width:100%;z-index:899;
     background:rgba(5,8,15,.97);backdrop-filter:blur(20px);
     border-bottom:1px solid var(--border);flex-direction:column}
.mob.open{display:flex}
.mob a{padding:1rem 5%;color:var(--muted);font-size:1rem;font-weight:500;
       text-decoration:none;cursor:pointer;border-bottom:1px solid var(--soft);transition:color var(--tr)}
.mob a:hover{color:var(--cyan)}

/* UTILS */
section{padding:6rem 5%;position:relative;z-index:1}
.tag{display:inline-block;font-size:.72rem;font-weight:600;letter-spacing:2px;
     text-transform:uppercase;color:var(--cyan);background:rgba(0,207,255,.08);
     border:1px solid rgba(0,207,255,.2);border-radius:20px;padding:4px 14px;margin-bottom:.9rem}
.title{font-family:'Syne',sans-serif;font-size:clamp(1.8rem,4vw,2.6rem);font-weight:700;line-height:1.15;margin-bottom:.9rem}
.card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--rl);position:relative;overflow:hidden}
.card::before{content:'';position:absolute;top:0;left:10%;width:80%;height:2px;
              background:linear-gradient(90deg,transparent,var(--blue),var(--cyan),transparent)}
.inp{width:100%;background:rgba(255,255,255,.04);border:1px solid var(--border);
     border-radius:var(--r);padding:13px 16px;color:var(--text);
     font-family:'DM Sans',sans-serif;font-size:.95rem;outline:none;
     transition:border-color var(--tr),box-shadow var(--tr)}
.inp:focus{border-color:var(--blue);box-shadow:0 0 0 3px rgba(56,139,253,.12)}
.inp::placeholder{color:var(--muted);opacity:.7}
textarea.inp{resize:vertical;min-height:120px}
.lbl{display:block;font-size:.82rem;color:var(--muted);font-weight:500;margin-bottom:.5rem}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;
     padding:13px 28px;border:none;border-radius:var(--r);
     font-family:'DM Sans',sans-serif;font-size:.95rem;font-weight:600;
     cursor:pointer;transition:transform var(--tr),box-shadow var(--tr),opacity var(--tr)}
.btn:hover{transform:translateY(-2px)}
.btn:disabled{opacity:.5;cursor:not-allowed;transform:none !important}
.btn-blue{background:linear-gradient(135deg,var(--blue),var(--cyan));color:#fff;box-shadow:0 4px 20px var(--glow)}
.btn-blue:hover{box-shadow:0 8px 32px var(--glow)}
.btn-purple{background:linear-gradient(135deg,var(--purple),var(--blue));color:#fff;box-shadow:0 4px 20px rgba(155,114,248,.3)}
.btn-ghost{background:transparent;color:var(--muted);border:1px solid var(--border);font-size:.85rem;padding:9px 20px}
.btn-ghost:hover{color:var(--text);border-color:rgba(56,139,253,.4)}
.btn-del{background:rgba(255,77,109,.12);color:var(--red);border:1px solid rgba(255,77,109,.25);
         padding:7px 14px;font-size:.82rem;border-radius:8px}
.btn-del:hover{background:rgba(255,77,109,.22);transform:none}
.divider{height:1px;background:linear-gradient(90deg,transparent,var(--border),transparent);margin:0 5%;position:relative;z-index:1}
.fade{opacity:0;transform:translateY(28px);transition:opacity .7s ease,transform .7s ease}
.fade.on{opacity:1;transform:translateY(0)}

/* TOAST */
#toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);
       background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);
       padding:12px 24px;font-size:.88rem;color:var(--text);
       box-shadow:0 8px 30px rgba(0,0,0,.4);z-index:9999;
       transition:transform .4s ease,opacity .4s ease;opacity:0;pointer-events:none;white-space:nowrap}
#toast.show{transform:translateX(-50%) translateY(0);opacity:1}
#toast.ok{border-color:rgba(35,229,160,.4);color:var(--green)}
#toast.err{border-color:rgba(255,77,109,.4);color:var(--red)}

/* HERO */
#heroSec{min-height:100vh;display:flex;flex-direction:column;align-items:center;
          justify-content:center;text-align:center;padding-top:100px}
#heroSec::before{content:'';position:absolute;width:600px;height:600px;border-radius:50%;
                  background:radial-gradient(circle,rgba(56,139,253,.1) 0%,transparent 70%);
                  top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none}
.hero-badge{display:inline-flex;align-items:center;gap:8px;
            background:rgba(56,139,253,.08);border:1px solid rgba(56,139,253,.25);
            border-radius:20px;padding:6px 16px;font-size:.8rem;color:var(--blue);
            margin-bottom:2rem;animation:fup .8s ease both}
.dot{width:7px;height:7px;border-radius:50%;background:var(--cyan);animation:pulse 2s infinite}
.hero-h{font-family:'Syne',sans-serif;font-size:clamp(2.4rem,8vw,5rem);font-weight:800;
         line-height:1.07;letter-spacing:-1.5px;margin-bottom:1.4rem;animation:fup .9s ease .1s both}
.hero-h span{background:linear-gradient(135deg,var(--blue),var(--cyan),var(--purple));
             -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero-p{max-width:540px;color:var(--muted);font-size:clamp(1rem,2.5vw,1.1rem);
         margin-bottom:2.8rem;animation:fup .9s ease .2s both}
.hero-btn{display:inline-flex;align-items:center;gap:10px;padding:16px 38px;
          background:linear-gradient(135deg,var(--blue),var(--cyan));color:#fff;
          font-family:'DM Sans',sans-serif;font-size:1rem;font-weight:600;border:none;
          border-radius:50px;cursor:pointer;
          box-shadow:0 0 32px var(--glow),0 0 64px rgba(0,207,255,.18);
          transition:transform var(--tr),box-shadow var(--tr);animation:fup .9s ease .3s both}
.hero-btn:hover{transform:translateY(-3px) scale(1.03);box-shadow:0 0 50px var(--glow),0 0 90px rgba(0,207,255,.25)}
.arr{transition:transform var(--tr)}.hero-btn:hover .arr{transform:translateX(4px)}
.scroll-hint{margin-top:4rem;display:flex;flex-direction:column;align-items:center;gap:8px;
             color:var(--muted);font-size:.75rem;letter-spacing:1.5px;text-transform:uppercase;
             animation:fup .9s ease .5s both}
.scroll-line{width:1px;height:40px;background:linear-gradient(to bottom,var(--blue),transparent);animation:sp 2s infinite}

/* ANALYZER */
.az-wrap{max-width:700px;margin:0 auto}
.az-card{padding:2.5rem}
.result{display:none;margin-top:2rem;background:var(--bg3);border:1px solid rgba(0,207,255,.2);
        border-radius:var(--rl);padding:2rem;animation:fup .5s ease both}
.result.on{display:block}
.res-head{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}
.res-emoji{font-size:2.8rem;line-height:1}
.res-mood{font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:700}
.res-lbl{font-size:.78rem;color:var(--muted);text-transform:uppercase;letter-spacing:1.5px}
.e-row{display:flex;justify-content:space-between;font-size:.82rem;color:var(--muted);margin-bottom:8px}
.e-track{height:8px;background:rgba(255,255,255,.06);border-radius:10px;overflow:hidden;margin-bottom:1.5rem}
.e-fill{height:100%;border-radius:10px;transition:width 1s ease}
.adv{background:rgba(56,139,253,.06);border:1px solid rgba(56,139,253,.15);border-radius:var(--r);padding:1rem 1.2rem}
.adv-t{font-size:.75rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--cyan);margin-bottom:.5rem;font-weight:600}
.adv-p{color:var(--text);font-size:.93rem;line-height:1.6}
.tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:1.2rem}
.tag-pill{background:rgba(155,114,248,.1);border:1px solid rgba(155,114,248,.22);
          color:#c4b5fd;font-size:.76rem;font-weight:500;padding:4px 12px;border-radius:20px}
.saved{margin-top:1rem;font-size:.8rem;color:var(--green);display:none;align-items:center;gap:6px}
.saved.on{display:flex}

/* ABOUT */
.ab-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
         gap:1.4rem;margin-top:3rem;max-width:900px;margin-left:auto;margin-right:auto}
.ab-card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--rl);
         padding:1.8rem 1.5rem;transition:transform var(--tr),border-color var(--tr),box-shadow var(--tr)}
.ab-card:hover{transform:translateY(-6px);border-color:rgba(56,139,253,.35);box-shadow:0 12px 40px rgba(0,0,0,.3)}
.ab-icon{font-size:2rem;margin-bottom:1rem}
.ab-title{font-family:'Syne',sans-serif;font-size:1rem;font-weight:700;margin-bottom:.5rem}
.ab-text{color:var(--muted);font-size:.88rem;line-height:1.6}

/* CONTACT */
.ct-wrap{max-width:580px;margin:0 auto}
.ct-card{padding:2.5rem;margin-top:2rem}
.ct-card::before{background:linear-gradient(90deg,transparent,var(--purple),var(--cyan),transparent)}
.fg{margin-bottom:1.1rem}
.ct-ok{display:none;text-align:center;padding:2rem;animation:fup .5s ease both}
.ct-ok.on{display:block}
.ct-ok .oi{font-size:3rem;margin-bottom:1rem}
.ct-ok h3{font-family:'Syne',sans-serif;font-size:1.3rem;color:var(--green);margin-bottom:.5rem}
.ct-ok p{color:var(--muted);font-size:.9rem}

/* FOOTER */
footer{border-top:1px solid var(--border);padding:2rem 5%;text-align:center;
       color:var(--muted);font-size:.82rem;position:relative;z-index:1}
footer span{color:var(--blue)}

/* LOGIN PAGE */
#loginPage{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}
.login-box{width:100%;max-width:420px;background:var(--bg2);border:1px solid var(--border);
           border-radius:var(--rl);padding:2.8rem 2.4rem;position:relative;overflow:hidden}
.login-box::before{content:'';position:absolute;top:0;left:10%;width:80%;height:2px;
                   background:linear-gradient(90deg,transparent,var(--purple),var(--cyan),transparent)}
.login-logo{font-family:'Syne',sans-serif;font-weight:800;font-size:1.3rem;margin-bottom:.4rem;
            background:linear-gradient(90deg,var(--blue),var(--cyan));
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.login-sub{color:var(--muted);font-size:.88rem;margin-bottom:2rem}
.login-err{background:rgba(255,77,109,.18);border:2px solid rgba(255,77,109,.6);
           border-radius:var(--r);padding:13px 16px;color:#ff8099;font-size:.9rem;
           font-weight:500;margin-bottom:1rem;display:none;line-height:1.5}

/* DASHBOARD PAGE */
#dashPage{padding-top:62px}
.dash-hdr{background:rgba(5,8,15,.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);
          padding:1.2rem 5%;display:flex;align-items:center;justify-content:space-between;
          flex-wrap:wrap;gap:1rem;position:sticky;top:0;z-index:800}
.dash-title{font-family:'Syne',sans-serif;font-weight:700;font-size:1.1rem}
.dash-meta{color:var(--muted);font-size:.8rem;margin-top:2px}
.dash-acts{display:flex;gap:.8rem;align-items:center}
.dash-body{padding:2rem 5%}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1.2rem;margin-bottom:2.5rem}
.stat{background:var(--bg2);border:1px solid var(--border);border-radius:var(--rl);padding:1.5rem 1.6rem}
.stat-lbl{font-size:.76rem;color:var(--muted);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:.6rem}
.stat-val{font-family:'Syne',sans-serif;font-size:2.2rem;font-weight:800;color:var(--blue)}
.ent-title{font-family:'Syne',sans-serif;font-size:1.1rem;font-weight:700;margin-bottom:1.2rem}
.ent-list{display:flex;flex-direction:column;gap:1rem}
.ent-card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--rl);
          padding:1.4rem 1.6rem;display:flex;align-items:flex-start;justify-content:space-between;
          gap:1rem;transition:border-color var(--tr);animation:fup .4s ease both}
.ent-card:hover{border-color:rgba(56,139,253,.35)}
.ent-left{flex:1;min-width:0}
.ent-top{display:flex;align-items:center;gap:10px;margin-bottom:.5rem;flex-wrap:wrap}
.ent-emoji{font-size:1.5rem}
.ent-mood{font-family:'Syne',sans-serif;font-size:.95rem;font-weight:700}
.ent-date{font-size:.76rem;color:var(--muted)}
.ent-text{color:var(--muted);font-size:.88rem;line-height:1.5;
          overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}
.ent-badge{font-size:.72rem;font-weight:600;padding:3px 10px;border-radius:20px;
           text-transform:uppercase;letter-spacing:1px}
.empty{text-align:center;padding:4rem 2rem;color:var(--muted)}
.empty .ei{font-size:3rem;margin-bottom:1rem}
.empty p{font-size:.9rem}
.spin-wrap{text-align:center;padding:3rem;color:var(--muted)}
.spinner{width:36px;height:36px;border:3px solid var(--border);border-top-color:var(--blue);
         border-radius:50%;animation:spin .8s linear infinite;margin:0 auto 1rem}

/* ANIMATIONS */
@keyframes fup{from{opacity:0;transform:translateY(22px)}to{opacity:1;transform:translateY(0)}}
@keyframes fdown{from{opacity:0;transform:translateY(-14px)}to{opacity:1;transform:translateY(0)}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
@keyframes sp{0%,100%{opacity:.3}50%{opacity:1}}
@keyframes spin{to{transform:rotate(360deg)}}

/* RESPONSIVE */
@media(max-width:768px){
  .nav-links{display:none}
  .burger{display:flex}
  section{padding:5rem 5%}
  .az-card,.ct-card,.login-box{padding:1.6rem}
  .dash-body{padding:1.5rem 4%}
  .ent-card{flex-direction:column}
}
</style>
</head>
<body>

<!-- NAV -->
<nav id="mainNav">
  <div class="logo" onclick="goTo('heroSec')">â¬¡ Detect Your Day</div>
  <ul class="nav-links">
    <li><a onclick="goTo('heroSec')">Home</a></li>
    <li><a onclick="goTo('azSec')">Analyze</a></li>
    <li><a onclick="goTo('abSec')">About</a></li>
    <li><a onclick="goTo('ctSec')">Contact</a></li>
    <li><a onclick="showPage('loginPage')">Admin</a></li>
  </ul>
  <div class="burger" id="burger"><span></span><span></span><span></span></div>
</nav>

<!-- MOBILE MENU -->
<div class="mob" id="mob">
  <a onclick="goTo('heroSec');closeMob()">Home</a>
  <a onclick="goTo('azSec');closeMob()">Analyze</a>
  <a onclick="goTo('abSec');closeMob()">About</a>
  <a onclick="goTo('ctSec');closeMob()">Contact</a>
  <a onclick="showPage('loginPage');closeMob()">Admin</a>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â• PUBLIC PAGE â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page active" id="publicPage">

  <!-- HERO -->
  <section id="heroSec">
    <div class="hero-badge"><span class="dot"></span>Smart Mood Detection</div>
    <h1 class="hero-h">Discover What<br/><span>Your Day Hides</span></h1>
    <p class="hero-p">Type a few words about your day â€” our engine reads between the lines and reveals your mood, energy level, and what to do next.</p>
    <button class="hero-btn" onclick="goTo('azSec')">Start Detecting <span class="arr">â†’</span></button>
    <div class="scroll-hint"><div class="scroll-line"></div>scroll down</div>
  </section>

  <div class="divider"></div>

  <!-- ANALYZER -->
  <section id="azSec" class="fade">
    <div class="az-wrap">
      <div style="text-align:center;margin-bottom:2.5rem">
        <span class="tag">Mood Analyzer</span>
        <h2 class="title">Tell Us About Your Day</h2>
        <p style="color:var(--muted);max-width:480px;margin:0 auto;font-size:.95rem">Write naturally. Describe your day and we will detect your mood instantly.</p>
      </div>
      <div class="card az-card">
        <div class="fg">
          <label class="lbl" for="dayInp">How is your day going?</label>
          <textarea class="inp" id="dayInp" placeholder="e.g. I am feeling really tired today, couldn't sleep well and have so much work..."></textarea>
        </div>
        <button class="btn btn-blue" id="detectBtn" style="width:100%" onclick="detectMood()">âœ¦ Detect My Mood</button>

        <div class="result" id="resultBox">
          <div class="res-head">
            <div class="res-emoji" id="rEmoji">ğŸ˜Š</div>
            <div><div class="res-lbl">Mood Detected</div><div class="res-mood" id="rMood">Happy</div></div>
          </div>
          <div class="e-row"><span>Energy Level</span><span id="rPct">75%</span></div>
          <div class="e-track"><div class="e-fill" id="rBar" style="width:0%"></div></div>
          <div class="adv"><div class="adv-t">ğŸ’¡ Suggested for You</div><div class="adv-p" id="rAdv"></div></div>
          <div class="tags" id="rTags"></div>
          <div class="saved" id="savedMsg">âœ… Entry saved to records</div>
        </div>
      </div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- ABOUT -->
  <section id="abSec" class="fade" style="text-align:center">
    <span class="tag">About</span>
    <h2 class="title">How It Works</h2>
    <p style="color:var(--muted);max-width:580px;margin:0 auto;font-size:.95rem;line-height:1.7">Detect Your Day reads emotional patterns in your words and instantly reflects your mental state.</p>
    <div class="ab-grid">
      <div class="ab-card"><div class="ab-icon">ğŸ§ </div><div class="ab-title">Keyword Intelligence</div><div class="ab-text">Scans your text for emotional signals and identifies your dominant mood pattern.</div></div>
      <div class="ab-card"><div class="ab-icon">ğŸ“Š</div><div class="ab-title">Energy Mapping</div><div class="ab-text">Translates your mood into a live energy score so you can see where you stand today.</div></div>
      <div class="ab-card"><div class="ab-icon">â˜ï¸</div><div class="ab-title">Cloud Saved</div><div class="ab-text">Every submission is securely saved so administrators can review mood trends over time.</div></div>
      <div class="ab-card"><div class="ab-icon">âš¡</div><div class="ab-title">Instant Results</div><div class="ab-text">Results appear in under a second. Just type and detect â€” no delays.</div></div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- CONTACT -->
  <section id="ctSec" class="fade">
    <div class="ct-wrap">
      <span class="tag">Contact</span>
      <h2 class="title">Say Hello</h2>
      <p style="color:var(--muted);font-size:.95rem">Have feedback or a suggestion? Drop a message below.</p>
      <div class="card ct-card">
        <div id="ctForm">
          <div class="fg"><label class="lbl">Your Name</label><input class="inp" id="cName" placeholder="Alex Johnson"/></div>
          <div class="fg"><label class="lbl">Email Address</label><input class="inp" type="email" id="cEmail" placeholder="alex@email.com"/></div>
          <div class="fg"><label class="lbl">Message</label><textarea class="inp" id="cMsg" placeholder="Your message here..."></textarea></div>
          <button class="btn btn-purple" style="width:100%" onclick="submitContact()">Send Message âœ¦</button>
        </div>
        <div class="ct-ok" id="ctOk"><div class="oi">âœ…</div><h3>Message Received!</h3><p>Thank you for reaching out.</p></div>
      </div>
    </div>
  </section>

  <footer><p>Â© 2025 <span>Detect Your Day</span> â€” All rights reserved.</p></footer>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â• LOGIN PAGE â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page" id="loginPage">
  <div style="min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;position:relative;z-index:1">
    <div class="login-box">
      <div class="login-logo">â¬¡ Detect Your Day</div>
      <div class="login-sub">Admin Access Only</div>
      <div class="login-err" id="loginErr"></div>
      <div class="fg" style="margin-bottom:1rem">
        <label class="lbl">Email Address</label>
        <input class="inp" type="email" id="adminEmail" placeholder="your@email.com"/>
      </div>
      <div class="fg" style="margin-bottom:1.4rem">
        <label class="lbl">Password</label>
        <input class="inp" type="password" id="adminPass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"/>
      </div>
      <button class="btn btn-blue" id="loginBtn" style="width:100%">Sign In</button>
      <div style="margin-top:1.2rem;text-align:center">
        <a onclick="showPage('publicPage')" style="color:var(--muted);font-size:.82rem;cursor:pointer;text-decoration:underline">â† Back to Website</a>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â• DASHBOARD PAGE â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page" id="dashPage">
  <div class="dash-hdr">
    <div><div class="dash-title">â¬¡ Admin Dashboard</div><div class="dash-meta" id="dashEmail">â€”</div></div>
    <div class="dash-acts">
      <button class="btn btn-ghost" id="refreshBtn">â†» Refresh</button>
      <button class="btn btn-del" style="padding:9px 20px" id="logoutBtn">Logout</button>
    </div>
  </div>
  <div class="dash-body">
    <div class="stats">
      <div class="stat"><div class="stat-lbl">Total Submissions</div><div class="stat-val" id="statTotal">â€”</div></div>
      <div class="stat"><div class="stat-lbl">Most Common Mood</div><div class="stat-val" id="statMood" style="font-size:1.3rem">â€”</div></div>
      <div class="stat"><div class="stat-lbl">Latest Entry</div><div class="stat-val" id="statLatest" style="font-size:.95rem;color:var(--muted);padding-top:8px">â€”</div></div>
    </div>
    <div class="ent-title">All Submissions</div>
    <div id="entList"><div class="spin-wrap"><div class="spinner"></div><p>Loading...</p></div></div>
  </div>
</div>

<!-- TOAST -->
<div id="toast"></div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  YOUR FIREBASE PROJECT CONFIG
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var FB_API_KEY    = "AIzaSyDJ2U0Bn_Ab3BxYU8VPmRuFTHLeoHa-jYg";
var FB_PROJECT_ID = "detect-your-day-b11bb";
var ADMIN_EMAIL   = "littlecoder2k09@gmail.com";

// Firebase REST API base URLs â€” no SDK needed, plain fetch() calls
var AUTH_URL  = "https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=" + FB_API_KEY;
var FS_URL    = "https://firestore.googleapis.com/v1/projects/" + FB_PROJECT_ID + "/databases/(default)/documents/mood_entries";

// Store the auth token after login
var idToken   = null;
var localUid  = null;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  PAGE NAVIGATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showPage(id) {
  document.querySelectorAll('.page').forEach(function(p){ p.classList.remove('active'); });
  document.getElementById(id).classList.add('active');
  var nav = document.getElementById('mainNav');
  var mob = document.getElementById('mob');
  if (id === 'publicPage') {
    nav.style.display = '';
    mob.style.display = '';
  } else {
    nav.style.display = 'none';
    mob.style.display = 'none';
  }
  window.scrollTo(0,0);
}

function goTo(secId) {
  showPage('publicPage');
  setTimeout(function(){
    var el = document.getElementById(secId);
    if (el) el.scrollIntoView({ behavior:'smooth', block:'start' });
  }, 50);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  HAMBURGER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.getElementById('burger').addEventListener('click', function(){
  this.classList.toggle('open');
  document.getElementById('mob').classList.toggle('open');
});
function closeMob(){
  document.getElementById('burger').classList.remove('open');
  document.getElementById('mob').classList.remove('open');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SCROLL FADE IN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var obs = new IntersectionObserver(function(entries){
  entries.forEach(function(e){ if(e.isIntersecting) e.target.classList.add('on'); });
},{threshold:0.1});
document.querySelectorAll('.fade').forEach(function(el){ obs.observe(el); });

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  TOAST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showToast(msg, type) {
  var t = document.getElementById('toast');
  t.textContent = msg;
  t.className = 'show ' + (type||'');
  clearTimeout(window._tt);
  window._tt = setTimeout(function(){ t.className = ''; }, 3500);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  LOGIN ERROR HELPER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showLoginErr(msg) {
  var el = document.getElementById('loginErr');
  el.textContent = msg;
  el.style.display = 'block';
  var btn = document.getElementById('loginBtn');
  btn.disabled = false;
  btn.textContent = 'Sign In';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ADMIN LOGIN â€” uses Firebase Auth REST API (no SDK needed)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loginAdmin() {
  var email = document.getElementById('adminEmail').value.trim();
  var pass  = document.getElementById('adminPass').value;
  var btn   = document.getElementById('loginBtn');
  var err   = document.getElementById('loginErr');

  err.style.display = 'none';
  btn.disabled    = true;
  btn.textContent = 'Signing in...';

  if (!email || !pass) { showLoginErr('Please enter your email and password.'); return; }

  if (email.toLowerCase() !== ADMIN_EMAIL.toLowerCase()) {
    showLoginErr('Access denied. This email is not the admin account.');
    return;
  }



  // Call Firebase Auth REST API directly â€” no SDK required
  fetch(AUTH_URL, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ email: email, password: pass, returnSecureToken: true })
  })
  .then(function(res){ return res.json(); })
  .then(function(data){
    if (data.error) {
      // Firebase returned an error
      var code = data.error.message || '';
      var msg  = 'Sign-in failed. (' + code + ')';
      if (code.includes('INVALID_LOGIN_CREDENTIALS') || code.includes('INVALID_PASSWORD') || code.includes('EMAIL_NOT_FOUND')) {
        msg = 'Wrong email or password. Please try again.';
      } else if (code.includes('TOO_MANY_ATTEMPTS')) {
        msg = 'Too many attempts. Please wait a few minutes.';
      } else if (code.includes('USER_DISABLED')) {
        msg = 'This account has been disabled.';
      }
      showLoginErr(msg);
      return;
    }

    // Success â€” save token and show dashboard
    idToken  = data.idToken;
    localUid = data.localId;
    document.getElementById('dashEmail').textContent = 'Signed in as ' + data.email;
    showPage('dashPage');
    loadEntries();
  })
  .catch(function(err){
    console.error('Network error:', err);
    showLoginErr('Network error. Make sure you have internet and try again.');
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  LOGOUT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function logoutAdmin() {
  idToken  = null;
  localUid = null;
  showPage('publicPage');
  showToast('Logged out successfully.', 'ok');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SAVE MOOD ENTRY â€” Firestore REST API
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function saveEntry(text, mood, emoji, energy) {
  var body = {
    fields: {
      text:      { stringValue: text },
      mood:      { stringValue: mood },
      emoji:     { stringValue: emoji },
      energy:    { integerValue: energy },
      createdAt: { timestampValue: new Date().toISOString() }
    }
  };

  fetch(FS_URL, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(body)
  })
  .then(function(res){ return res.json(); })
  .then(function(data){
    if (data.error) { console.warn('Save error:', data.error.message); return; }
    document.getElementById('savedMsg').classList.add('on');
  })
  .catch(function(e){ console.error('Save network error:', e); });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  LOAD ENTRIES â€” Firestore REST API
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loadEntries() {
  var el = document.getElementById('entList');
  el.innerHTML = '<div class="spin-wrap"><div class="spinner"></div><p>Loading entries...</p></div>';

  // Firestore REST query â€” order by createdAt descending
  var qUrl = "https://firestore.googleapis.com/v1/projects/" + FB_PROJECT_ID +
             "/databases/(default)/documents:runQuery";

  var qBody = {
    structuredQuery: {
      from: [{ collectionId: 'mood_entries' }],
      orderBy: [{ field: { fieldPath: 'createdAt' }, direction: 'DESCENDING' }],
      limit: 100
    }
  };

  var headers = { 'Content-Type': 'application/json' };
  if (idToken) headers['Authorization'] = 'Bearer ' + idToken;

  fetch(qUrl, { method:'POST', headers: headers, body: JSON.stringify(qBody) })
  .then(function(res){ return res.json(); })
  .then(function(data){
    var entries = [];

    // Parse Firestore REST response
    data.forEach(function(item){
      if (!item.document) return;
      var f  = item.document.fields || {};
      var id = item.document.name.split('/').pop();
      entries.push({
        id:        id,
        text:      (f.text      && f.text.stringValue)      || '',
        mood:      (f.mood      && f.mood.stringValue)      || 'Unknown',
        emoji:     (f.emoji     && f.emoji.stringValue)     || 'ğŸ¤”',
        energy:    (f.energy    && f.energy.integerValue)   || 0,
        createdAt: (f.createdAt && f.createdAt.timestampValue) || null
      });
    });

    // Stats
    document.getElementById('statTotal').textContent = entries.length;

    if (entries.length === 0) {
      document.getElementById('statMood').textContent   = 'â€”';
      document.getElementById('statLatest').textContent = 'â€”';
      el.innerHTML = '<div class="empty"><div class="ei">ğŸ“­</div><p>No submissions yet.</p></div>';
      return;
    }

    // Most common mood
    var mc = {};
    entries.forEach(function(e){ mc[e.mood] = (mc[e.mood]||0)+1; });
    var top = Object.entries(mc).sort(function(a,b){return b[1]-a[1];})[0][0];
    document.getElementById('statMood').textContent = top || 'â€”';

    // Latest date
    if (entries[0].createdAt) {
      var d = new Date(entries[0].createdAt);
      document.getElementById('statLatest').textContent =
        d.toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});
    }

    // Render cards
    el.innerHTML = '<div class="ent-list" id="entCont"></div>';
    var cont = document.getElementById('entCont');

    entries.forEach(function(entry, i){
      var dateStr = 'â€”';
      if (entry.createdAt) {
        var d = new Date(entry.createdAt);
        dateStr = d.toLocaleString('en-US',{month:'short',day:'numeric',year:'numeric',hour:'2-digit',minute:'2-digit'});
      }

      var ml = entry.mood.toLowerCase();
      var bg='rgba(56,139,253,0.1)', fg='#388bfd';
      if      (ml.includes('happy')||ml.includes('joyful'))     {bg='rgba(35,229,160,0.1)'; fg='#23e5a0';}
      else if (ml.includes('excited')||ml.includes('energized')){bg='rgba(255,140,66,0.1)'; fg='#ff8c42';}
      else if (ml.includes('stressed')||ml.includes('angry'))   {bg='rgba(255,77,109,0.1)'; fg='#ff4d6d';}
      else if (ml.includes('tired')||ml.includes('sad'))        {bg='rgba(107,114,128,0.15)';fg='#9ca3af';}
      else if (ml.includes('hopeful')||ml.includes('driven'))   {bg='rgba(251,191,36,0.1)'; fg='#fbbf24';}
      else if (ml.includes('calm'))                              {bg='rgba(0,207,255,0.1)';  fg='#00cfff';}

      var card = document.createElement('div');
      card.className = 'ent-card';
      card.style.animationDelay = (i*0.04)+'s';
      card.innerHTML =
        '<div class="ent-left">' +
          '<div class="ent-top">' +
            '<span class="ent-emoji">' + entry.emoji + '</span>' +
            '<span class="ent-mood">'  + entry.mood  + '</span>' +
            '<span class="ent-badge" style="background:'+bg+';color:'+fg+';">' + entry.energy + '% Energy</span>' +
            '<span class="ent-date">'  + dateStr + '</span>' +
          '</div>' +
          '<div class="ent-text">' + (entry.text||'(no text)') + '</div>' +
        '</div>' +
        '<div style="flex-shrink:0">' +
          '<button class="btn btn-del" onclick="deleteEntry(\'' + entry.id + '\')">ğŸ—‘ Delete</button>' +
        '</div>';
      cont.appendChild(card);
    });
  })
  .catch(function(e){
    console.error('Load error:', e);
    el.innerHTML = '<div class="empty"><div class="ei">âš ï¸</div><p>Failed to load. Check internet connection.</p></div>';
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DELETE ENTRY â€” Firestore REST API
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function deleteEntry(docId) {
  if (!confirm('Delete this entry permanently?')) return;
  var url = "https://firestore.googleapis.com/v1/projects/" + FB_PROJECT_ID +
            "/databases/(default)/documents/mood_entries/" + docId;
  var headers = {};
  if (idToken) headers['Authorization'] = 'Bearer ' + idToken;

  fetch(url, { method:'DELETE', headers: headers })
  .then(function(){
    showToast('Entry deleted.', 'ok');
    loadEntries();
  })
  .catch(function(){
    showToast('Delete failed. Try again.', 'err');
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  BUTTON EVENT LISTENERS â€” attached here, not in onclick
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.getElementById('loginBtn').addEventListener('click',   loginAdmin);
document.getElementById('logoutBtn').addEventListener('click',  logoutAdmin);
document.getElementById('refreshBtn').addEventListener('click', loadEntries);
document.getElementById('adminPass').addEventListener('keydown', function(e){
  if (e.key === 'Enter') loginAdmin();
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  MOOD DETECTION ENGINE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var MOODS = [
  { keys:['happy','great','amazing','fantastic','wonderful','awesome','good','joy','joyful','love','smile','laugh','brilliant','perfect','blessed','grateful','beautiful','fun','enjoyed','cheerful','positive','glad','pleased','delight','excellent'],
    emoji:'ğŸ˜„', label:'Happy & Joyful', energy:85, color:'linear-gradient(90deg,#23e5a0,#00cfff)',
    advice:'You are radiating great energy today! Channel it into something creative or share your positivity with someone close.',
    tags:['High Spirits','Productive Mood','Social Ready'] },

  { keys:['excited','thrilled','pumped','hyped','energetic','motivated','inspired','unstoppable','ready','charged','buzzing','enthusiasm','cant wait','looking forward'],
    emoji:'ğŸš€', label:'Excited & Energized', energy:95, color:'linear-gradient(90deg,#ff8c42,#ffd166)',
    advice:'Your energy is at its peak! This is the perfect moment to tackle that big goal you have been putting off.',
    tags:['Peak Energy','Goal Mode','Take Action Now'] },

  { keys:['stressed','stress','anxious','anxiety','overwhelmed','pressure','tense','nervous','panic','worried','worry','deadline','too much','cant cope','overloaded','burnout'],
    emoji:'ğŸ˜°', label:'Stressed & Overwhelmed', energy:30, color:'linear-gradient(90deg,#f97316,#ef4444)',
    advice:'Take a slow deep breath. Break your tasks into tiny steps â€” one thing at a time. A 10-minute walk can reset your mind.',
    tags:['Needs Rest','Breathe First','One Step at a Time'] },

  { keys:['tired','exhausted','sleepy','drained','fatigue','fatigued','low energy','no energy','sluggish','worn out','weary','cant focus','yawning','groggy','slow'],
    emoji:'ğŸ˜´', label:'Tired & Low Energy', energy:20, color:'linear-gradient(90deg,#6b7280,#9ca3af)',
    advice:'Your body is asking for rest. Drink water, step outside for 5 minutes, or listen to a calm playlist.',
    tags:['Rest Mode','Hydrate','Low Battery'] },

  { keys:['sad','unhappy','down','depressed','crying','cry','tears','lonely','alone','missing','heartbroken','hurt','pain','empty','hopeless','miserable','gloomy','upset'],
    emoji:'ğŸ˜¢', label:'Sad & Reflective', energy:25, color:'linear-gradient(90deg,#60a5fa,#818cf8)',
    advice:'It is okay to feel this way. Be gentle with yourself. Talk to someone you trust or journal your feelings.',
    tags:['Be Kind to Yourself','Seek Support','It Gets Better'] },

  { keys:['angry','anger','mad','furious','frustrated','frustrating','irritated','annoyed','rage','hate','unfair','ridiculous','awful','terrible','ugh','fed up','sick of','worst'],
    emoji:'ğŸ˜¤', label:'Frustrated & Angry', energy:50, color:'linear-gradient(90deg,#ef4444,#f97316)',
    advice:'Your frustration is valid. Step away for a moment. Physical movement like a short walk releases tension fast.',
    tags:['Needs a Break','Release Tension','Cool Down First'] },

  { keys:['bored','boredom','boring','nothing to do','dull','flat','uninspired','meh','whatever','pointless','routine','monotonous','stuck','aimless'],
    emoji:'ğŸ˜‘', label:'Bored & Unmotivated', energy:40, color:'linear-gradient(90deg,#a78bfa,#60a5fa)',
    advice:'Boredom is a signal to try something new. Learn one small thing, call a friend, or start that hobby you have been meaning to explore.',
    tags:['Needs Stimulation','Try Something New','Creative Spark'] },

  { keys:['calm','peaceful','relaxed','chill','at peace','serene','quiet','comfortable','content','balanced','okay','fine','decent','alright','steady','stable'],
    emoji:'ğŸ˜Œ', label:'Calm & Balanced', energy:60, color:'linear-gradient(90deg,#23e5a0,#60a5fa)',
    advice:'A calm mind is a powerful mind. Use this balanced energy to plan ahead, reflect, or simply enjoy the stillness.',
    tags:['Zen State','Clear Mind','Steady Pace'] },

  { keys:['hopeful','optimistic','confident','believe','determined','focused','goal','progress','improving','growing','learning','achieving','accomplished','proud','success','winning','dream'],
    emoji:'ğŸŒŸ', label:'Hopeful & Driven', energy:78, color:'linear-gradient(90deg,#fbbf24,#23e5a0)',
    advice:'You are in a great headspace. Set a clear intention and take one concrete step toward your goal today.',
    tags:['Growth Mindset','Clear Focus','Forward Momentum'] }
];

var DEFAULT = {
  emoji:'ğŸ¤”', label:'Neutral & Thoughtful', energy:55,
  color:'linear-gradient(90deg,#388bfd,#9b72f8)',
  advice:'Try writing a few more details and we might catch a clearer mood signal for you.',
  tags:['Neutral','Keep Exploring']
};

function detectMood() {
  var text = document.getElementById('dayInp').value.trim();
  if (!text) { showToast('Please describe your day first!','err'); return; }

  var lower = text.toLowerCase();
  var best  = null;
  var score = 0;

  MOODS.forEach(function(m){
    var s = 0;
    m.keys.forEach(function(k){ if(lower.includes(k)) s++; });
    if (s > score) { score = s; best = m; }
  });

  var d = best || DEFAULT;
  var btn = document.getElementById('detectBtn');
  btn.disabled    = true;
  btn.textContent = 'Analyzing...';

  document.getElementById('savedMsg').classList.remove('on');

  setTimeout(function(){
    document.getElementById('rEmoji').textContent = d.emoji;
    document.getElementById('rMood').textContent  = d.label;
    document.getElementById('rAdv').textContent   = d.advice;
    document.getElementById('rPct').textContent   = d.energy + '%';

    var bar = document.getElementById('rBar');
    bar.style.background = d.color;
    bar.style.width = '0%';
    setTimeout(function(){ bar.style.width = d.energy + '%'; }, 60);

    var tags = document.getElementById('rTags');
    tags.innerHTML = '';
    d.tags.forEach(function(t){
      var s = document.createElement('span');
      s.className   = 'tag-pill';
      s.textContent = t;
      tags.appendChild(s);
    });

    var box = document.getElementById('resultBox');
    box.classList.add('on');
    box.scrollIntoView({ behavior:'smooth', block:'nearest' });

    // Save to Firestore via REST
    saveEntry(text, d.label, d.emoji, d.energy);

    btn.textContent = 'âœ¦ Detect My Mood';
    btn.disabled    = false;
  }, 900);
}

document.getElementById('dayInp').addEventListener('keydown', function(e){
  if (e.key === 'Enter' && e.ctrlKey) detectMood();
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CONTACT FORM
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function submitContact() {
  var n = document.getElementById('cName').value.trim();
  var e = document.getElementById('cEmail').value.trim();
  var m = document.getElementById('cMsg').value.trim();
  if (!n||!e||!m) { showToast('Please fill in all fields.','err'); return; }
  if (!e.includes('@')||!e.includes('.')) { showToast('Enter a valid email.','err'); return; }
  document.getElementById('ctForm').style.display = 'none';
  document.getElementById('ctOk').classList.add('on');
}
</script>

</body>
</html>
